<owge-widgets-confirmation-dialog (confirmResult)="cancelUpgrade($event)" [text]="vConfirmDeleteText">

</owge-widgets-confirmation-dialog>

<ng-container *ngIf="userData">
  <owge-widgets-display-list-item [itemName]="upgrade.name" [itemDescription]="upgrade.description" [image]="upgrade.imageUrl"
    [hasToDisplayCountdown]="runningUpgrade && runningUpgrade.upgrade.id === upgrade.id" [countdownDate]="runningUpgrade?.browserComputedTerminationDate"
  >
    <ng-template owgeCoreContent select="extra-header">
      <div>
        <h6 *ngIf="obtainedUpgrade" class="card-subtitle text-muted">{{ 'APP.UPGRADES.LEVEL' | translate: { upgradeLevel: obtainedUpgrade.level } }}
          <br /> {{ obtainedUpgrade.upgrade.typeName }}</h6>
      </div>
    </ng-template>
    <ng-template owgeCoreContent select="action-buttons">
      <a *ngIf="runningUpgrade && obtainedUpgrade.upgrade.id !== runningUpgrade.upgrade.id" class="btn btn-block" role="button"
        (click)="otherUpgradeAlreadyRunning()">
        ---
      </a>
      <ng-container *ngIf="!runningUpgrade">
        <a owgeUniverseOnClickIfWsConnected *ngIf="obtainedUpgrade?.requirements?.runnable" class="btn btn-block" role="button"
          (clickAndConnected)="updateSelectedUpgrade(obtainedUpgrade)">{{ 'APP.UPGRADES.DO_UPGRADE' | translate }}</a>
        <a *ngIf="!obtainedUpgrade?.requirements?.runnable" class="btn btn-block" role="button">{{ 'APP.UPGRADES.NO_ENOUGH_RESOURCES' | translate }}</a>
      </ng-container>
      <a owgeUniverseOnClickIfWsConnected class="btn btn-block" *ngIf="runningUpgrade && obtainedUpgrade.upgrade.id === runningUpgrade.upgrade.id" role="button" (clickAndConnected)="clickCancelUpgrade()">{{ 'APP.UPGRADES.CANCEL' | translate }}</a>
    </ng-template>
    <ng-template owgeCoreContent select="extra-section">
      <div *ngIf="obtainedUpgrade.requirements">
        <app-display-requirements [requirements]="obtainedUpgrade.requirements"></app-display-requirements>
      </div>
    </ng-template>
</owge-widgets-display-list-item> 
</ng-container>