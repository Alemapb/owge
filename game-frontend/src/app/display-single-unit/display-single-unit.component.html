<div class="card sgt" *ngIf="userData">
  <div class="card-block">
    <h5 class="card-title">{{ unit.name }}</h5>
  </div>
  <img class="card-img-top" src="{{ image }}" alt="image of the unit">
  <div class="card-block">
    <p class="card-text">{{ unit.description }}</p>
  </div>
  <div *ngIf="unit.requirements" class="card-block">
    <h5 class="card-title">Requisitos</h5>
    <app-display-requirements [requirements]="unit.requirements"></app-display-requirements>
  </div>

  <ng-container *ngIf="withBuildMode">
    <ng-container *ngIf="building">
      <ng-container *ngIf="building.missionData.unit.id === unit.id ">
        <div class="upgrading-countdown">
          <app-countdown *ngIf="building.missionData.terminationDate" [targetDate]="building.missionData.terminationDate"
            (timeOver)="buildDone.emit()">
          </app-countdown>
        </div>
        <a class="btn btn-block" role="button" (click)="cancelUnit()">Cancelar</a>
      </ng-container>
      <a *ngIf="building.missionData.unit.id !== unit.id" class="btn btn-block" role="button" (click)="otherUnitAlreadyRunning()">---</a>
    </ng-container>
    <ng-container *ngIf="!building">
      <input type="number" id="count" name="count" [(ngModel)]="count" placeholder="Cantidad" />
      <a *ngIf="unit.requirements.runnable" class="btn btn-block" role="button" (click)="buildSelectedUnit()">Construir</a>
      <a *ngIf="!unit.requirements.runnable" class="btn btn-block" role="button" (click)="noResources()">Sin recursos</a>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="withInPlanetMode">
    <div class="card-block">
      <h5>Cantidad: {{ inPlanetCount }}</h5>
    </div>
  </ng-container>
</div>